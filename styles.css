/*
    # Table of contents
    
    1. Variables
    2. Reset
    3. Elements
    4. Classes
    5. Layout
*/

/* 1. Variables */

:root {
    /** TODO Use modern colors? */
    --light: white;
    --light-grey: #999;
    --mid-grey: #666;
    --dark-grey: #444;
    --dark: #222;
    --transparent-black: #0a0a0a;

    --red: #fab0ac;
    --orange: #ffd0ad;
    --yellow: #faef8a;
    --green: #8fffd7;
    --blue: #a2e2eb;
    --purple: #5f5cf4;

    --foreground: var(--dark);
    --background: var(--light);

    --font-family-sans: Inter, ui-sans-serif, system-ui, BlinkMacSystemFont,
        -apple-system, 'Segoe UI', sans-serif;
    --font-family-serif: 'Crimson Pro', ui-serif, serif;

    --font-size-title: 40px;
    --font-size-subtitle: 24px;
    --font-size-description: 32px;
    --font-size-heading: 24px;
    --font-size-subheading: 20px;
    --font-size-section-title: 40px;
    --font-size-section-title-alternative: 16px;
    --font-size-section-description: 20px;
    --font-size-post: 18px;
    --font-size-body: 16px;
    --font-size-name: 18px;
    --font-size-date: 14px;

    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-bold: 700;

    --line-height-1-2: 1.2;
    --line-height-1-5: 1.5;

    --base: 8px;

    --sizing-960: calc(var(--base) * 120);
    --sizing-128: calc(var(--base) * 16);
    --sizing-96: calc(var(--base) * 12);
    --sizing-64: calc(var(--base) * 8);
    --sizing-48: calc(var(--base) * 6);

    --spacing-192: calc(var(--base) * 24);
    --spacing-96: calc(var(--base) * 12);
    --spacing-48: calc(var(--base) * 6);
    --spacing-24: calc(var(--base) * 3);
    --spacing-32: calc(var(--base) * 4);
    --spacing-16: calc(var(--base) * 2);

    --spacing-relative: 1em;

    --border-thin: 1px solid currentColor;
    --border-medium: 3px solid currentColor;
    --border-thick: 4px solid currentColor;

    --border-radius: 6px;

    --two-thirds: calc((100% - var(--spacing-48)) / 3 * 2);
}

@media (max-width: 500px) {
    :root {
        --sizing-mobile-960: var(--sizing-960);
        --sizing-mobile-128: var(--sizing-128);
        --sizing-mobile-96: var(--sizing-96);
        --sizing-mobile-64: var(--sizing-64);
        --sizing-mobile-48: var(--sizing-48);

        --spacing-mobile-192: var(--spacing-192);
        --spacing-mobile-96: var(--spacing-96);
        --spacing-mobile-48: var(--spacing-48);
        --spacing-mobile-32: var(--spacing-32);
        --spacing-mobile-24: var(--spacing-24);
        --spacing-mobile-16: var(--spacing-16);
    }
}

@media (min-width: 501px) {
    :root {
        --font-size-title: 96px;
        --font-size-subtitle: 40px;
        --font-size-description: 64px;
        --font-size-heading: 32px;
        --font-size-subheading: 20px;
        --font-size-section-title: 64px;
        --font-size-section-title-alternative: 24px;
        --font-size-section-description: 24px;
        --font-size-section-content: 24px;
        --font-size-post: 20px;
        --font-size-body: 18px;
        --font-size-name: 18px;
        --font-size-date: 16px;

        --sizing-desktop-960: var(--sizing-960);
        --sizing-desktop-128: var(--sizing-128);
        --sizing-desktop-96: var(--sizing-96);
        --sizing-desktop-64: var(--sizing-64);
        --sizing-desktop-48: var(--sizing-48);

        --spacing-desktop-192: var(--spacing-192);
        --spacing-desktop-96: var(--spacing-96);
        --spacing-desktop-48: var(--spacing-48);
        --spacing-desktop-32: var(--spacing-32);
        --spacing-desktop-24: var(--spacing-24);
        --spacing-desktop-16: var(--spacing-16);
    }
}

/* 2. Reset */

* {
    box-sizing: border-box;

    margin: 0;
    padding: 0;

    transition: all 0.1s;
}

/* 3. Elements */

body {
    --main-columns-width: calc(
        (var(--sizing-desktop-960) - var(--spacing-desktop-48) * 2) / 3
    );

    -webkit-font-smoothing: antialiased;

    padding-inline: max(
        calc((100% - var(--sizing-960)) / 2),
        var(--spacing-24)
    );

    font-family: var(--font-family-sans);
    font-size: var(--font-size-body);

    line-height: var(--line-height-1-5);

    background-color: var(--background);
    color: var(--foreground);

    list-style-position: inside;
}

header :is(h1, h2, h3, h4, h5, h6) {
    font-family: var(--font-family-serif);
    font-style: italic;
}

header :is(h1, h2, h3, h4, h5, h6) > strong {
    text-decoration: underline;
}

main > header > p {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-description);
    font-style: italic;
}

section {
    font-size: var(--font-size-section-content);
}

section article {
    font-size: var(--font-size-body);
}

section > header > :is(h1, h2, h3, h4, h5, h6) {
    font-size: var(--font-size-section-title);
}

/* HACK The :not */
section > header:not(.side) > p {
    font-size: var(--font-size-section-description);
}

img {
    display: block;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    line-height: normal;
}

h1 {
    font-size: var(--font-size-title);
}

h2 {
    font-size: var(--font-size-section-title);
}

button,
.button,
input {
    display: block;
}

button,
.button {
    padding-block: var(--spacing-16);

    max-width: 340px;

    font: var(--font-family-sans);
    font-size: var(--font-size-body);
    font-weight: var(--font-weight-bold);

    text-decoration: none;
    text-align: center;

    background-color: transparent;
    color: inherit;

    border: var(--border-thin);
    border-radius: var(--border-radius);

    cursor: pointer;
}

p,
a {
    color: currentColor;
}

/* 3. Classes */

.hide-after ~ * {
    display: none;
}

/* CARDS */

@media (hover: hover) {
    .cards > .selected:not(:hover) {
        background-color: var(--color-selected);
    }

    .cards > :hover,
    .cards:not(:hover, :has(> .selected)) > :first-of-type {
        background-color: var(--color-hover);
    }
}

@media (hover: none) {
    .cards > .selected {
        background-color: var(--color-selected);
    }

    .cards:not(:has(> .selected)) > :first-of-type {
        background-color: var(--color-hover);
    }
}

.cards > * {
    padding-inline: var(--spacing-24);
    padding-block: var(--spacing-48);

    background-color: var(--color-regular);
    border-bottom: var(--border-thick);
}

.cards > * > :is(h1, h2, h3, h4, h5, h6) {
    font-size: var(--font-size-heading);
    font-family: var(--font-family-sans);
    font-weight: var(--font-weight-bold);
    font-style: normal;

    line-height: var(--line-height-1-2);
}

.cards > * > :not(:first-child) {
    margin-top: var(--spacing-relative);
}

/* AUTHOR */

.author {
    display: flex;

    gap: var(--spacing-24);
    align-items: center;
}

.author > img {
    height: 48px;

    border-radius: 50%;
}

/* TODO Header author, comment author */

.author > div > address {
    font-size: var(--font-size-name);
    font-style: normal;
    font-weight: var(--font-weight-bold);
}

.author > div > time {
    font-size: var(--font-size-date);
}

@media (min-width: 500px) {
    .button-group {
        display: grid;
        grid-auto-flow: column;
        align-items: stretch;
    }

    .button-group > :first-child {
        border-radius: var(--border-radius) 0 0 var(--border-radius);
    }

    .button-group > :is(button, .button) {
        border-radius: none;
    }

    .button-group > :is(button, .button):not(:first-child) {
        border-left: none;
    }

    .button-group > :last-child {
        border-radius: 0 var(--border-radius) var(--border-radius) 0;
    }
}

.button-group > :last-child {
    background-color: var(--foreground);
    color: var(--background);

    border: none;
}

[class*='arrow-']::after {
    font-family: 'icomoon';
    font-size: 0.65em;
}

.arrow-left::after {
    content: ' \e90d';
}

.arrow-right::after {
    content: ' \e90c';
}

.arrow-up::after {
    content: ' \e90b';
}

.arrow-down::after {
    content: ' \e90e';
}

/* 3. Layout */

/* HEADER */

body > header > nav > a > img,
main > header > h1 > img {
    width: var(--sizing-mobile-64, var(--sizing-desktop-96));

    /* height: 64px; */

    padding-top: var(--spacing-mobile-48, var(--spacing-desktop-96));
    padding-bottom: var(--spacing-mobile-24, var(--spacing-desktop-96));

    z-index: 1;
}

#header > p {
    line-height: normal;
}

#header {
    --background: var(--dark);
    --foreground: var(--light);

    padding-bottom: var(--spacing-desktop-192, var(--spacing-96));

    background-color: var(--background);
    color: var(--foreground);

    box-shadow: var(--background) 0 0 0 100vw;
    clip-path: inset(-1px -100vw);
}

/* DIALOG */

dialog[open] {
    position: fixed;
    left: 0;
    width: 100%;
    bottom: 0;
    z-index: 2;

    grid-template-columns:
        1fr calc(var(--main-columns-width) + 2 * var(--sizing-desktop-48))
        1fr;
    align-items: center;
    gap: var(--sizing-desktop-48);

    background-color: var(--purple);
    color: var(--light);

    border: none;

    padding-inline: max(
        calc((100% - var(--sizing-960)) / 2),
        var(--spacing-48)
    );

    padding-block: var(--spacing-48);
}

@media (min-width: 501px) {
    dialog[open] {
        display: grid;
    }
}

dialog > :not(:first-child) {
    margin-top: var(--spacing-relative);
}

@media (max-width: 500px) {
    dialog > img {
        display: none;
    }
}

dialog > div {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    align-items: center;
    place-content: space-around;
    gap: var(--spacing-16);
}

dialog > div > h2 {
    font-size: var(--font-size-heading);
    font-family: var(--font-family-sans);
    font-style: normal;
}

dialog > div > img {
    width: auto;
    max-width: 100%;
    height: auto;
}

/* dialog > div > div {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    align-items: center;

    line-height: 1;

    text-transform: uppercase;

    border: var(--border-medium);
    border-radius: 999px;
}

dialog > div > div > time {
    border-radius: 100vh;
    background-color: white;
    box-shadow: 0 0 0 2px white;
    color: var(--purple);
    height: var(--sizing-mobile-64, var(--sizing-desktop-96));
    aspect-ratio: 1;
    display: grid;

    place-items: center;
}

dialog > div > div > time > .day {
    align-self: end;
    font-weight: var(--font-weight-bold);
    font-size: 24px;
}

dialog > div > div > time > .month {
    align-self: start;
}

dialog > div > div > p {
    width: min-content;
    margin-inline: var(--spacing-16);

    font-weight: var(--font-weight-bold);
} */

dialog > p {
    font-size: 20px;
}

@media (min-width: 501px) {
    dialog > p {
        font-size: 18px;
    }
}

dialog > form,
dialog > form > button {
    display: contents;
}

dialog > form > button > img {
    position: absolute;
    top: 0;
    right: 0;

    width: 16px;

    margin: var(--spacing-32);
}

/* RECENT WORK and RECENT POSTS */

#recent-work,
#recent-posts {
    position: relative;
}

:is(#recent-work, #recent-posts) > h2 {
    --background: var(--dark);
    --foreground: var(--light);

    padding-bottom: var(--spacing-desktop-48, var(--spacing-24));

    position: absolute;
    top: 0;

    font-size: var(--font-size-section-title-alternative);
    color: var(--foreground);

    translate: 0 -100%;
}

/* RECENT WORK */

@media (min-width: 500px) {
    #recent-work > article {
        display: grid;
    }
}

#recent-work {
    --background: var(--transparent-black);
    --foreground: var(--light);
}

#recent-work > article {
    padding-top: var(--spacing-desktop-192, var(--spacing-96));
    padding-bottom: var(--spacing-desktop-192, var(--spacing-48));

    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-48);

    background-color: var(--background);
    color: var(--foreground);

    /* Here so it doesn't clip the "Recent posts ↓" */
    box-shadow: var(--background) 0 0 0 100vw;
    clip-path: inset(-10px -100vw);
}

#recent-work > article > :first-child > * + * {
    margin-top: var(--spacing-relative);
}

#recent-work > article > :first-child > h3 > img {
    width: 100%;
}

#recent-work > article > :first-child > h4 {
    font-family: var(--font-family-sans);
    font-size: var(--font-size-heading);
    font-weight: normal;
}

#recent-work > article > :last-child {
    margin-top: var(--spacing-relative);
}

#recent-work > article > :last-child > * + * {
    margin-top: var(--spacing-relative);
}

#recent-work > article > :last-child > .button-group {
    --foreground: var(--purple);

    margin-top: var(--spacing-48);

    color: var(--foreground);
}

@media (max-width: 500px) {
    #recent-work > article > :last-child > .button-group > :not(:first-child) {
        margin-top: var(--spacing-relative);
    }
}

/* #recent-work > article > :last-child > .button-group > :hover {
    --foreground: var(--light);
} */

/* RECENT POSTS */

#recent-posts {
    margin-top: var(--spacing-desktop-192, var(--spacing-96));
    margin-bottom: var(--spacing-desktop-192, var(--spacing-96));
}

#recent-posts > h2 {
    --half-content-width: (100vw - (2 * var(--spacing-48))) / 2;

    background-color: var(--background);

    z-index: -1;

    box-shadow: var(--background) 0 0 0 100vw;
    clip-path: inset(-100vh -100vw calc(var(--half-content-width) * -1) -100vw);
}

@media (min-width: 500px) {
    #recent-posts > h2 {
        /* TODO Dynamic */
        clip-path: inset(-100vh -100vw calc(456 / 2 * -1px) -100vw);
    }
}

#recent-posts > div {
    display: grid;
    gap: var(--spacing-48);
}

@media (min-width: 500px) {
    #recent-posts > div {
        grid-template-columns: repeat(2, 1fr);
    }
}

#recent-posts > div > article {
    background-color: var(--background);
}

@media (max-width: 500px) {
    #recent-posts > div > :nth-child(n + 3) > div > p {
        display: none;
    }
}

#recent-posts > div > article:nth-child(3) {
    grid-row: auto;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: auto;
    gap: var(--spacing-medium);
}

@media (min-width: 500px) {
    #recent-posts > div > article:nth-child(3) {
        grid-column: span 2;

        display: grid;

        gap: var(--spacing-48);
    }

    #recent-posts > div > article:nth-child(3) > div {
        padding-bottom: var(--spacing-24);
    }
}

#recent-posts > div > article > img {
    height: auto;
    width: 100%;
    aspect-ratio: 1;

    object-fit: cover;
}

#recent-posts > div > article > div {
    padding-top: var(--spacing-24);
}

@media (min-width: 500px) {
    #recent-posts > div > article > div {
        padding-inline: var(--spacing-desktop-24);
    }
}

#recent-posts > div > article > div > h3 {
    font-size: var(--font-size-heading);
    line-height: var(--line-height-1-2);
}

#recent-posts > div > article > div > h4 {
    font-size: var(--font-size-subheading);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-1-5);
}

#recent-posts > div > article > div > :not(:first-child) {
    margin-top: var(--spacing-relative);
}

#recent-posts > div > article > div > a {
    display: block;

    font-weight: var(--font-weight-regular);

    text-decoration: none;

    color: var(--mid-grey);
}

#recent-posts > button {
    margin: auto;
    margin-top: var(--spacing-desktop-96, var(--spacing-48));

    width: 100%;
    max-width: 340px;

    color: var(--mid-grey);
}

#recent-posts > button:hover {
    color: var(--dark);
}

/* ABOUT */

#about {
    --background: var(--purple);
    --foreground: var(--light);

    padding-top: var(--spacing-desktop-192, var(--spacing-96));
    padding-inline: var(--spacing-mobile-24);

    background-color: var(--background);
    color: var(--foreground);

    box-shadow: var(--background) 0 0 0 100vw;
    clip-path: inset(0 -100vw);
}

#about > header > :not(:first-child) {
    margin-top: var(--spacing-relative);
}

#about > div {
    margin-top: var(--spacing-desktop-96, var(--spacing-48));
}

#about > div > article {
    position: relative;

    font-size: var(--font-size-section-content);
}

#about > div > article > div {
    --foreground: var(--dark);

    padding: var(--spacing-48);

    color: var(--foreground);
    background-color: var(--background);

    box-shadow: var(--background) 0 0 0 100vw;
}

#about > div > :nth-child(odd) > div {
    clip-path: inset(0 -100vw 0 0);
}

#about > div > :nth-child(even) > div {
    clip-path: inset(0 0 0 -100vw);
}

@media (min-width: 501px) {
    #about > header {
        width: var(--two-thirds);
    }
}

@media (max-width: 500px) {
    #about > div > :nth-child(odd) > div {
        padding-right: 0;
    }

    #about > div > :nth-child(even) > div {
        padding-left: 0;
    }
}

#about > div > :nth-child(1) > div {
    --background: #ffb0ac;
}

#about > div > :nth-child(2) > div {
    --background: #ffd0ad;
}

#about > div > :nth-child(3) > div {
    --background: #8fffd7;
}

#about > div > :nth-child(4) > div {
    --background: #a2e2eb;
}

#about > div > :nth-child(5) > div {
    --background: #faef8a;
}

#about > div > article > img {
    position: absolute;
    bottom: 0;
    z-index: 1;

    translate: -50% 0;

    max-width: 136px;
}

#about > div > :nth-child(odd) > img {
    left: 0;

    translate: -50% 0;
}

#about > div > :nth-child(even) > img {
    right: 0;

    translate: 50% 0;
}

/* ORGANAZATIONS */

#organizations {
    padding-top: var(--spacing-desktop-192, var(--spacing-96));
    padding-bottom: var(--spacing-mobile-96, var(--spacing-desktop-192));
}

#organizations > header > :not(:first-child) {
    margin-top: var(--spacing-relative);
}

#organizations > header > h2 {
    color: var(--purple);
}

#organizations > div {
    margin-top: var(--spacing-desktop-96, var(--spacing-48));

    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-48);
    place-items: center;
}

@media (min-width: 501px) {
    #organizations > header {
        width: var(--two-thirds);
    }
    #organizations > div {
        grid-template-columns: repeat(4, 1fr);
    }
}

#organizations > div > img {
    width: 100%;
    height: auto;
    aspect-ratio: 1;

    object-fit: scale-down;
}

/* POST */

article > header > :first-child {
    grid-template-columns: repeat(3, 1fr);
    grid-template-areas: 'titles titles author';
    gap: var(--spacing-48);
}

@media (min-width: 501px) {
    article > header > :first-child {
        display: grid;
    }
}

#titles {
    grid-area: titles;

    margin-top: var(--spacing-large);
}

#titles > :not(:first-child) {
    margin-top: var(--spacing-relative);
}

#titles > h1 {
    font-size: var(--font-size-title);
}

#titles > p {
    font-size: var(--font-size-subtitle);
}

article > header > div > div > p {
    line-height: var(--line-height-heading);
}

article > header > div > .author {
    grid-area: author;

    align-self: end;
}

@media (max-width: 500px) {
    article > header > div > .author {
        display: none;
    }
}

article > header > div > .author > img {
    height: 64px;
}

article > header > img {
    grid-area: image;

    margin-top: var(--spacing-desktop-96, var(--spacing-48));
    max-width: 100%;
    height: auto;

    background-color: var(--dark);

    /* box-shadow: var(--foreground) 0 0 0 100vw;
    clip-path: inset(0 -100vw); */
}

/* CONTENT */

#content {
    padding-top: var(--spacing-mobile-48, var(--spacing-desktop-96));
    padding-bottom: var(--spacing-mobile-48, var(--spacing-desktop-192));

    font-size: var(--font-size-post);
}

#content > :not(:first-child) {
    margin-top: var(--spacing-relative);
}

#content > h2 {
    font-size: var(--font-size-subtitle);
    font-weight: normal;
    line-height: var(--line-height-1-5);
}

/* CONTACT */

#contact {
    --background: var(--dark);
    --foreground: var(--purple);

    font-size: var(--font-size-section-description);

    padding-block: var(--spacing-desktop-192, var(--spacing-96));

    background-color: var(--background);
    color: var(--foreground);

    box-shadow: var(--background) 0 0 0 100vw;
    clip-path: inset(0px -100vw);
}

#contact > h2 {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-section-title);
}

#contact > p {
    margin-top: var(--spacing-relative);
    color: var(--light);
}

#contact > address {
    font-family: var(--font-family-sans);
    font-size: 18px;
    font-weight: var(--font-weight-bold);
    margin-top: var(--spacing-48);
    font-size: var(--font-weight-bold);
    display: flex;
    align-items: end;
}

#contact > address > ::before {
    font-family: icomoon;
    font-size: 48px;

    font-weight: var(--font-weight-regular);
}

#contact > address > a.paper-plane::before {
    content: '\e902';
}

#contact > address > a.phone::before {
    content: '\e903';
}

#contact > address > a {
    font-size: 18px;
    text-decoration: none;
    display: flex;
    place-items: center;
    font-family: var(--font-family-sans);
    font-style: normal;
    gap: 1ch;
}

@media (min-width: 501px) {
    #contact > p {
        width: var(--two-thirds);
    }
}

@media (min-width: 501px) {
    #contact > address {
        gap: var(--spacing-desktop-48);
    }
}

@media (max-width: 500px) {
    #contact > address {
        font-size: 16px;
        justify-content: space-between;
    }

    #contact > address > a {
        flex-direction: column;
        gap: var(--spacing-16);
    }

    #contact > address > a.paper-plane::before {
        font-size: 34.5px;
    }

    #contact > address > a.phone::before {
        font-size: 40px;
    }

    #contact > address > a.phone {
        font-size: 14px;
    }
}

/* AUTHOR */

#author {
    padding-bottom: var(--spacing-mobile-96);
}

@media (min-width: 501px) {
    #author {
        display: none;
    }
}

/* FOOTER */

#footer {
    color: var(--purple);
    font-weight: var(--font-weight-bold);
    padding-top: var(--spacing-mobile-48, var(--spacing-desktop-96));
    padding-bottom: calc(
        var(--spacing-192) + var(--spacing-mobile-48, var(--spacing-desktop-96))
    );
    display: flex;
    align-items: center;
    gap: var(--spacing-mobile-16, var(--spacing-desktop-24));
    font-size: 16px;
}

@media (min-width: 501px) {
    #footer {
        font-size: 20px;
    }
}

#footer > img {
    width: var(--spacing-mobile-48, var(--spacing-desktop-96));
}

#footer > a {
    text-decoration: none;
}

/* COMMENTS */

#comments {
    /* TODO */
    margin-top: var(--spacing-horizontal-large);
}

#comments > ol > li ol > li {
    /* TODO */
    margin-left: var(--spacing-large);
    border-left: var(--border-thick);
    padding-left: var(--spacing-small);
}

#comments ol > li > * + * {
    margin-top: 1em;
}

#comments ol > li > header {
    display: flex;
    align-items: center;
    /* TODO */
    gap: 16px;
}

#comments ol > li > p {
    font-size: 18px;
}

#comments ol > li > button {
    font-size: 18px;
    border: none;
    padding: 0;
    color: var(--mid-grey);
}

#comments > #respond > form {
    display: grid;

    gap: var(--spacing-small);

    grid-template-columns: repeat(3, 1fr);
}

#comments > #respond > form > * {
    grid-column: span 3;
}

#comments > #respond > form > button {
    grid-column: 3;
}
